<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>blockr Color Palette Guidelines</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            background: #fff;
            line-height: 1.5;
        }
        h1 { font-size: 22px; margin-bottom: 5px; color: #1a1a1a; }
        h2 { font-size: 16px; margin: 30px 0 12px 0; color: #333; border-bottom: 2px solid #0072B2; padding-bottom: 5px; }
        h3 { font-size: 13px; margin: 20px 0 8px 0; color: #555; }
        .subtitle { color: #666; font-size: 12px; margin-bottom: 25px; }

        .decision-box {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .decision-box h3 {
            margin: 0 0 10px 0;
            color: #2e7d32;
        }

        .not-recommended {
            background: #ffebee;
            border: 2px solid #ef5350;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .not-recommended h3 {
            margin: 0 0 10px 0;
            color: #c62828;
        }

        .palette-display {
            display: flex;
            gap: 4px;
            margin: 10px 0;
            flex-wrap: wrap;
        }
        .color-swatch {
            width: 50px;
            height: 35px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: 600;
            color: white;
            text-shadow: 0 1px 1px rgba(0,0,0,0.3);
            flex-direction: column;
        }
        .color-swatch.light { color: #333; text-shadow: none; }
        .color-swatch .num {
            font-size: 11px;
            font-weight: 700;
        }

        .chart-preview {
            display: flex;
            gap: 20px;
            margin: 15px 0;
            flex-wrap: wrap;
            align-items: center;
        }
        .mini-pie {
            width: 70px;
            height: 70px;
            border-radius: 50%;
        }
        .mini-bar {
            width: 90px;
            height: 50px;
            display: flex;
            align-items: flex-end;
            gap: 4px;
        }
        .mini-bar .bar {
            width: 16px;
            border-radius: 3px 3px 0 0;
        }
        .mini-line {
            width: 120px;
            height: 50px;
        }

        .rationale {
            background: #f5f5f5;
            padding: 12px;
            border-radius: 6px;
            font-size: 11px;
            margin: 10px 0;
        }
        .rationale strong { color: #333; }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
            margin: 15px 0;
        }
        .comparison-table th, .comparison-table td {
            padding: 8px 10px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        .comparison-table th {
            background: #f5f5f5;
            font-weight: 600;
        }
        .comparison-table .yes { color: #2e7d32; }
        .comparison-table .no { color: #c62828; }

        .sources {
            font-size: 10px;
            color: #666;
            margin-top: 30px;
            padding-top: 15px;
            border-top: 1px solid #e0e0e0;
        }
        .sources a { color: #0072B2; }

        .gradient-bar {
            height: 30px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>

<h1>blockr Color Palette Guidelines</h1>
<p class="subtitle">Summary of color decisions for data visualization in blockr ecosystem</p>

<!-- ===== CATEGORICAL DATA ===== -->
<h2>1. Categorical Data (Qualitative)</h2>
<p style="font-size: 12px; color: #555;">For pie charts, bar charts, scatter plots with groups, line charts with multiple series.</p>

<h3>Base Palette: Okabe-Ito (Extended)</h3>
<p style="font-size: 11px; color: #666;">Colorblind-friendly palette from Okabe & Ito (2008), extended with black and gray.</p>

<div class="palette-display">
    <div class="color-swatch" style="background: #0072B2;"><span class="num">1</span>Blue</div>
    <div class="color-swatch" style="background: #D55E00;"><span class="num">2</span>Verm</div>
    <div class="color-swatch" style="background: #009E73;"><span class="num">3</span>Green</div>
    <div class="color-swatch" style="background: #56B4E9;"><span class="num">4</span>Sky</div>
    <div class="color-swatch" style="background: #E69F00;"><span class="num">5</span>Orange</div>
    <div class="color-swatch light" style="background: #F0E442;"><span class="num">6</span>Yellow</div>
    <div class="color-swatch" style="background: #CC79A7;"><span class="num">7</span>Pink</div>
    <div class="color-swatch" style="background: #000000;"><span class="num">8</span>Black</div>
    <div class="color-swatch" style="background: #999999;"><span class="num">9</span>Gray</div>
</div>

<!-- Filled Charts Decision -->
<div class="decision-box">
    <h3>✓ Filled Charts (Pie, Bar, Area)</h3>
    <p style="font-size: 11px; margin: 0 0 10px 0;"><strong>Order:</strong> Blue → Vermilion → Yellow → Green → Sky → Orange → Pink</p>

    <div class="palette-display">
        <div class="color-swatch" style="background: #0072B2;"><span class="num">1</span></div>
        <div class="color-swatch" style="background: #D55E00;"><span class="num">2</span></div>
        <div class="color-swatch light" style="background: #F0E442;"><span class="num">3</span></div>
        <div class="color-swatch" style="background: #009E73;"><span class="num">4</span></div>
        <div class="color-swatch" style="background: #56B4E9;"><span class="num">5</span></div>
        <div class="color-swatch" style="background: #E69F00;"><span class="num">6</span></div>
        <div class="color-swatch" style="background: #CC79A7;"><span class="num">7</span></div>
    </div>

    <div class="chart-preview">
        <div style="text-align: center; font-size: 10px;">
            <div>3 categories</div>
            <div class="mini-pie" style="background: conic-gradient(#0072B2 0deg 120deg, #D55E00 120deg 240deg, #F0E442 240deg 360deg);"></div>
        </div>
        <div style="text-align: center; font-size: 10px;">
            <div>4 categories</div>
            <div class="mini-bar">
                <div class="bar" style="background: #0072B2; height: 40px;"></div>
                <div class="bar" style="background: #D55E00; height: 30px;"></div>
                <div class="bar" style="background: #F0E442; height: 45px;"></div>
                <div class="bar" style="background: #009E73; height: 25px;"></div>
            </div>
        </div>
    </div>

    <div class="rationale">
        <strong>Rationale:</strong> Yellow as 3rd color provides brightness and contrast after two dark colors (Blue, Vermilion).
        Black is excluded from filled charts as it appears too heavy in large areas.
    </div>
</div>

<!-- Line Charts Decision -->
<div class="decision-box">
    <h3>✓ Line Charts</h3>
    <p style="font-size: 11px; margin: 0 0 10px 0;"><strong>Order:</strong> Blue → Vermilion → Black → Green → Sky → Orange → Pink → Gray</p>

    <div class="palette-display">
        <div class="color-swatch" style="background: #0072B2;"><span class="num">1</span></div>
        <div class="color-swatch" style="background: #D55E00;"><span class="num">2</span></div>
        <div class="color-swatch" style="background: #000000;"><span class="num">3</span></div>
        <div class="color-swatch" style="background: #009E73;"><span class="num">4</span></div>
        <div class="color-swatch" style="background: #56B4E9;"><span class="num">5</span></div>
        <div class="color-swatch" style="background: #E69F00;"><span class="num">6</span></div>
        <div class="color-swatch" style="background: #CC79A7;"><span class="num">7</span></div>
        <div class="color-swatch" style="background: #999999;"><span class="num">8</span></div>
    </div>

    <div class="chart-preview">
        <div style="text-align: center; font-size: 10px;">
            <div>3 series</div>
            <svg width="120" height="50" viewBox="0 0 120 50">
                <polyline points="5,40 30,20 60,30 90,15 115,25" stroke="#0072B2" stroke-width="2.5" fill="none"/>
                <polyline points="5,35 30,28 60,38 90,25 115,32" stroke="#D55E00" stroke-width="2.5" fill="none"/>
                <polyline points="5,25 30,35 60,22 90,35 115,18" stroke="#000000" stroke-width="2.5" fill="none"/>
            </svg>
        </div>
        <div style="text-align: center; font-size: 10px;">
            <div>5 series</div>
            <svg width="120" height="50" viewBox="0 0 120 50">
                <polyline points="5,40 30,20 60,30 90,15 115,25" stroke="#0072B2" stroke-width="2" fill="none"/>
                <polyline points="5,35 30,28 60,38 90,25 115,32" stroke="#D55E00" stroke-width="2" fill="none"/>
                <polyline points="5,25 30,35 60,22 90,35 115,18" stroke="#000000" stroke-width="2" fill="none"/>
                <polyline points="5,42 30,32 60,42 90,30 115,38" stroke="#009E73" stroke-width="2" fill="none"/>
                <polyline points="5,20 30,40 60,25 90,42 115,28" stroke="#56B4E9" stroke-width="2" fill="none"/>
            </svg>
        </div>
    </div>

    <div class="rationale">
        <strong>Rationale:</strong> Lines are thin and need high contrast. Black as 3rd color provides strong distinction.
        Gray (#999999) reserved as last resort for 7+ series when other colors are exhausted.
        Yellow excluded from lines as it's hard to see on white backgrounds.
    </div>
</div>

<!-- Scatter Charts -->
<h3>Scatter Charts</h3>
<p style="font-size: 11px; color: #666;">Use the <strong>filled charts palette</strong> (same as pie/bar). Points are filled shapes, so colorful palette works well.</p>

<!-- ===== SEQUENTIAL DATA ===== -->
<h2>2. Sequential Data (Ordered/Continuous)</h2>
<p style="font-size: 12px; color: #555;">For heatmaps, choropleth maps, density plots, any data with continuous scale.</p>

<div class="decision-box">
    <h3>✓ Viridis (Recommended for Sequential)</h3>
    <p style="font-size: 11px; margin: 0 0 10px 0;">Perceptually uniform, colorblind-friendly, works in grayscale.</p>

    <div class="gradient-bar" style="background: linear-gradient(to right, #440154, #443983, #31688E, #21918C, #35B779, #90D743, #FDE725);"></div>

    <div class="rationale">
        <strong>Use cases:</strong> Heatmaps, correlation matrices, geographic maps, any visualization where color represents magnitude.
    </div>
</div>

<!-- ===== NOT RECOMMENDED ===== -->
<h2>3. Not Recommended</h2>

<div class="not-recommended">
    <h3>✗ Viridis for Categorical Data</h3>
    <p style="font-size: 11px; margin-bottom: 10px;">Viridis is a <strong>sequential</strong> palette—colors progress from dark to light, implying ordering.</p>

    <div class="chart-preview">
        <div style="text-align: center; font-size: 10px;">
            <div>Misleading for categories</div>
            <div class="mini-pie" style="background: conic-gradient(#440154 0deg 120deg, #21918C 120deg 240deg, #FDE725 240deg 360deg);"></div>
        </div>
    </div>

    <div class="rationale">
        <strong>Problem:</strong> Using viridis for a pie chart (e.g., setosa, versicolor, virginica) implies virginica > versicolor > setosa,
        when there's no inherent order. Adjacent colors also look similar, making categories hard to distinguish.
    </div>
</div>

<div class="not-recommended">
    <h3>✗ Orange + Vermilion Together Early</h3>
    <p style="font-size: 11px;">Both are warm red-orange tones with poor contrast. Avoid as colors 2 and 3.</p>
    <div class="palette-display">
        <div class="color-swatch" style="background: #D55E00;">Verm</div>
        <div class="color-swatch" style="background: #E69F00;">Orange</div>
        <span style="font-size: 11px; color: #c62828; margin-left: 10px;">← Too similar</span>
    </div>
</div>

<!-- ===== COMPARISON TABLE ===== -->
<h2>4. Quick Reference</h2>

<table class="comparison-table">
    <tr>
        <th>Palette</th>
        <th>Type</th>
        <th>Pie/Bar</th>
        <th>Lines</th>
        <th>Heatmaps</th>
        <th>Colorblind-safe</th>
    </tr>
    <tr>
        <td><strong>Okabe-Ito (filled order)</strong></td>
        <td>Qualitative</td>
        <td class="yes">✓ Best</td>
        <td>—</td>
        <td class="no">✗</td>
        <td class="yes">✓</td>
    </tr>
    <tr>
        <td><strong>Okabe-Ito (line order)</strong></td>
        <td>Qualitative</td>
        <td>—</td>
        <td class="yes">✓ Best</td>
        <td class="no">✗</td>
        <td class="yes">✓</td>
    </tr>
    <tr>
        <td><strong>Viridis</strong></td>
        <td>Sequential</td>
        <td class="no">✗</td>
        <td class="no">✗</td>
        <td class="yes">✓ Best</td>
        <td class="yes">✓</td>
    </tr>
    <tr>
        <td>ColorBrewer Set2</td>
        <td>Qualitative</td>
        <td class="yes">✓</td>
        <td class="yes">✓</td>
        <td class="no">✗</td>
        <td>Partial</td>
    </tr>
    <tr>
        <td>Tableau 10</td>
        <td>Qualitative</td>
        <td class="yes">✓</td>
        <td class="yes">✓</td>
        <td class="no">✗</td>
        <td>Partial</td>
    </tr>
</table>

<!-- ===== HEX CODES SUMMARY ===== -->
<h2>5. Hex Codes Summary</h2>

<h3>Filled Charts (Pie, Bar, Area, Scatter)</h3>
<code style="font-size: 11px; background: #f5f5f5; padding: 8px; display: block; border-radius: 4px;">
c("#0072B2", "#D55E00", "#F0E442", "#009E73", "#56B4E9", "#E69F00", "#CC79A7")
</code>

<h3>Line Charts</h3>
<code style="font-size: 11px; background: #f5f5f5; padding: 8px; display: block; border-radius: 4px;">
c("#0072B2", "#D55E00", "#000000", "#009E73", "#56B4E9", "#E69F00", "#CC79A7", "#999999")
</code>

<h3>Sequential (Viridis)</h3>
<code style="font-size: 11px; background: #f5f5f5; padding: 8px; display: block; border-radius: 4px;">
viridis::viridis(n)  # or scales::viridis_pal()(n)
</code>

<!-- ===== SOURCES ===== -->
<div class="sources">
    <strong>Sources:</strong><br>
    • Okabe & Ito (2008): <a href="https://jfly.uni-koeln.de/color/">Color Universal Design</a><br>
    • Wilke, C. (2019): <a href="https://clauswilke.com/dataviz/">Fundamentals of Data Visualization</a><br>
    • ColorBrewer: <a href="https://colorbrewer2.org/">colorbrewer2.org</a><br>
    • ggokabeito: <a href="https://malcolmbarrett.github.io/ggokabeito/">R package documentation</a>
</div>

</body>
</html>
